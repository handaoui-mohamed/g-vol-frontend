<md-dialog aria-label="Flight">
  <form name="flightDialogForm" novalidate>
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2 translate="FLIGHT.UPDATE">Update flight</h2>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="fldVm.cancel()">
          <md-icon md-font-icon="icon-close" aria-label="Close dialog"></md-icon>
        </md-button>
      </div>
    </md-toolbar>
    <md-dialog-content layout-padding>
      <div layout-gt-xs="row">
        <md-input-container class="md-block capitalize" flex-gt-xs>
          <label translate="FLIGHT.COMPANY">Company</label>
          <md-select ng-model="fldVm.flight.company" name="company" required>
            <md-option ng-value="company.code" ng-repeat="company in fldVm.companies" class="capitalize">{{company.name}}</md-option>
          </md-select>
          <div ng-messages="flightDialogForm.company.$error">
            <div ng-message="required" translate="VALIDATION.REQUIRED">This is required.</div>
          </div>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-xs>
          <label translate="FLIGHT.NUMBER">Flight Number</label>
          <input ng-model="fldVm.flight.flightNumber" name="flightNumber" required>
          <div ng-messages="flightDialogForm.flightNumber.$error">
            <div ng-message="required" translate="VALIDATION.REQUIRED">This is required.</div>
          </div>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-xs>
          <label>Destination</label>
          <input ng-model="fldVm.flight.dest" name="destination" required>
          <div ng-messages="flightDialogForm.destination.$error">
            <div ng-message="required" translate="VALIDATION.REQUIRED">This is required.</div>
          </div>
        </md-input-container>
      </div>

      <div layout-gt-xs="row">
        <md-input-container class="md-block" flex-gt-xs>
          <label>Registration</label>
          <input ng-model="fldVm.flight.registration" name="registration" required>
          <div ng-messages="flightDialogForm.registration.$error">
            <div ng-message="required" translate="VALIDATION.REQUIRED">This is required.</div>
          </div>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-xs>
          <label>Configuration</label>
          <input ng-model="fldVm.flight.configuration" name="configuration" required>
          <div ng-messages="flightDialogForm.configuration.$error">
            <div ng-message="required" translate="VALIDATION.REQUIRED">This is required.</div>
          </div>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-xs>
          <label>AC Type</label>
          <input ng-model="fldVm.flight.acType" name="acType" required>
          <div ng-messages="flightDialogForm.acType.$error">
            <div ng-message="required" translate="VALIDATION.REQUIRED">This is required.</div>
          </div>
        </md-input-container>
      </div>

      <div layout-gt-xs="row">
        <md-input-container class="md-block" flex-gt-xs>
          <md-datepicker ng-model="fldVm.flight.arrivalDate" name="arrival" md-placeholder="{{ 'FLIGHT.ARRIVAL' | translate}}" required></md-datepicker>
          <div ng-messages="flightDialogForm.arrival.$error">
            <div ng-message="required" translate="VALIDATION.REQUIRED">This is required.</div>
          </div>
        </md-input-container>

        <md-input-container class="time-input">
          <label>STA</label>
          <input ng-model="fldVm.flight.sta" name="sta" required ng-pattern="/^(([0-1][0-9])|(2[0-3]))[0-5][0-9]$/">
          <div ng-messages="flightDialogForm.sta.$error">
            <div ng-message="required" translate="VALIDATION.REQUIRED">This is required.</div>
            <div ng-message="pattern" translate="VALIDATION.TIME">Incorrect time</div>
          </div>
        </md-input-container>

        <md-input-container class="md-block" flex-gt-xs>
          <md-datepicker ng-model="fldVm.flight.departureDate" name="departure" md-placeholder="{{ 'FLIGHT.DEPARTURE' | translate}}"
            required></md-datepicker>
          <div ng-messages="flightDialogForm.departure.$error">
            <div ng-message="required" translate="VALIDATION.REQUIRED">This is required.</div>
          </div>
        </md-input-container>


        <md-input-container class="time-input">
          <label>STD</label>
          <input ng-model="fldVm.flight.std" name="std" required ng-pattern="/^(([0-1][0-9])|(2[0-3]))[0-5][0-9]$/">
          <div ng-messages="flightDialogForm.std.$error">
            <div ng-message="required" translate="VALIDATION.REQUIRED">This is required.</div>
            <div ng-message="pattern" translate="VALIDATION.TIME">Incorrect time</div>
          </div>
        </md-input-container>
      </div>
    </md-dialog-content>

    <md-dialog-actions layout="row">
      <span flex></span>
      <md-button class="md-default" ng-click="fldVm.cancel()" translate="CANCEL">
        Cancel
      </md-button>
      <md-button class="md-raised md-primary" ng-click="fldVm.submit()" ng-disabled="flightDialogForm.$prestine || flightDialogForm.$invalid"
        translate="SAVE">
        Save
      </md-button>
    </md-dialog-actions>
  </form>
</md-dialog>
